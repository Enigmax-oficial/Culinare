import{c as p,r as x,j as e,C as z,X as M,L as f}from"./index-mgKDf8I3.js";import{P as j,a as S}from"./ai-jJJw6KXx.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_=p("image",P);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],R=p("save",A);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],G=p("sparkles",D);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],v=p("trash-2",L),q=({onClose:u,onSave:y,loading:g})=>{const[s,r]=x.useState({title:"",description:"",category:"Almoço/Jantar",difficulty:"Fácil",prepTime:20,cookTime:30,calories:450,image:""}),[m,h]=x.useState(!1),[l,c]=x.useState([{name:"",amount:1,unit:"unid."}]),[i,d]=x.useState([{title:"Preparo",text:""}]),N=()=>c([...l,{name:"",amount:1,unit:"unid."}]),k=t=>c(l.filter((n,o)=>o!==t)),w=()=>d([...i,{title:`Passo ${i.length+1}`,text:""}]),C=t=>d(i.filter((n,o)=>o!==t)),I=async()=>{if(!s.title){alert("Por favor, dê um título à sua receita antes de gerar a imagem.");return}h(!0);try{const t=await S(s.title,s.description);t?r({...s,image:t}):alert("Não foi possível gerar a imagem no momento. Tente novamente.")}catch(t){console.error(t)}finally{h(!1)}},b=t=>{t.preventDefault(),y({...s,ingredients:l,steps:i,rating:5,reviews:0,tags:[s.category,s.difficulty]})};return e.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-lg animate-in fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-4xl h-[90vh] rounded-[40px] overflow-hidden shadow-2xl flex flex-col animate-in slide-in-from-bottom-8",children:[e.jsxs("div",{className:"p-8 border-b border-stone-100 flex justify-between items-center bg-stone-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-orange-500 p-2 rounded-xl text-white",children:e.jsx(z,{size:24})}),e.jsx("h2",{className:"text-2xl font-black text-stone-900 uppercase tracking-tight",children:"Publicar Receita"})]}),e.jsx("button",{onClick:u,className:"p-2 text-stone-400 hover:text-stone-900 transition-colors",children:e.jsx(M,{size:24})})]}),e.jsxs("form",{onSubmit:b,className:"flex-1 overflow-y-auto p-8 sm:p-12 space-y-12",children:[e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:"Título da Receita"}),e.jsx("input",{required:!0,type:"text",placeholder:"Ex: Risoto de Cogumelos",className:"w-full bg-stone-50 border border-stone-100 rounded-2xl px-6 py-4 outline-none focus:ring-4 focus:ring-orange-500/10 focus:border-orange-500 transition-all font-bold",value:s.title,onChange:t=>r({...s,title:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:"Descrição"}),e.jsx("textarea",{rows:3,placeholder:"Conte um pouco sobre essa delícia...",className:"w-full bg-stone-50 border border-stone-100 rounded-2xl px-6 py-4 outline-none focus:ring-4 focus:ring-orange-500/10 focus:border-orange-500 transition-all font-medium",value:s.description,onChange:t=>r({...s,description:t.target.value})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2 flex justify-between items-center",children:["Capa da Receita",e.jsx("span",{className:"text-[9px] font-bold text-orange-500",children:"URL ou Gerada por IA"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-300",size:18}),e.jsx("input",{required:!0,type:"text",placeholder:"Cole o link da imagem ou gere com IA",className:"w-full bg-stone-50 border border-stone-100 rounded-2xl pl-12 pr-4 py-4 outline-none focus:ring-4 focus:ring-orange-500/10 focus:border-orange-500 transition-all font-medium",value:s.image,onChange:t=>r({...s,image:t.target.value})})]}),e.jsxs("button",{type:"button",onClick:I,disabled:m||!s.title,className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 text-white p-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg shadow-orange-100 hover:shadow-orange-200 transition-all active:scale-[0.98] disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3 overflow-hidden relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),m?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:16,className:"animate-spin"})," Gerando Imagem Gourmet..."]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{size:16})," Gerar Imagem com IA"]})]}),s.image&&e.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden border-2 border-stone-100 bg-stone-50 group",children:[e.jsx("img",{src:s.image,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("p",{className:"text-white text-[10px] font-black uppercase tracking-widest",children:"Pré-visualização"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:"Categoria"}),e.jsxs("select",{className:"w-full bg-stone-50 border border-stone-100 rounded-xl px-2 py-3 text-xs font-bold",value:s.category,onChange:t=>r({...s,category:t.target.value}),children:[e.jsx("option",{children:"Café da Manhã"}),e.jsx("option",{children:"Almoço/Jantar"}),e.jsx("option",{children:"Sobremesas"}),e.jsx("option",{children:"Lanches"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:"Dificuldade"}),e.jsxs("select",{className:"w-full bg-stone-50 border border-stone-100 rounded-xl px-2 py-3 text-xs font-bold",value:s.difficulty,onChange:t=>r({...s,difficulty:t.target.value}),children:[e.jsx("option",{children:"Fácil"}),e.jsx("option",{children:"Média"}),e.jsx("option",{children:"Difícil"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:"KCal"}),e.jsx("input",{type:"number",className:"w-full bg-stone-50 border border-stone-100 rounded-xl px-4 py-3 text-xs font-bold",value:s.calories,onChange:t=>r({...s,calories:Number(t.target.value)})})]})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-stone-900 uppercase tracking-tight",children:"Ingredientes"}),e.jsxs("button",{type:"button",onClick:N,className:"text-orange-600 font-black text-xs uppercase flex items-center gap-1 hover:text-orange-700",children:[e.jsx(j,{size:16})," Adicionar"]})]}),e.jsx("div",{className:"space-y-4",children:l.map((t,n)=>e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("input",{placeholder:"Qtd",type:"number",step:"0.1",className:"w-20 bg-stone-50 border border-stone-100 rounded-xl px-4 py-3 font-bold text-center",value:t.amount,onChange:o=>{const a=[...l];a[n].amount=Number(o.target.value),c(a)}}),e.jsx("input",{placeholder:"Unidade",className:"w-32 bg-stone-50 border border-stone-100 rounded-xl px-4 py-3 font-bold",value:t.unit,onChange:o=>{const a=[...l];a[n].unit=o.target.value,c(a)}}),e.jsx("input",{placeholder:"Nome do ingrediente",className:"flex-1 bg-stone-50 border border-stone-100 rounded-xl px-4 py-3 font-bold",value:t.name,onChange:o=>{const a=[...l];a[n].name=o.target.value,c(a)}}),e.jsx("button",{type:"button",onClick:()=>k(n),className:"text-stone-300 hover:text-red-500 transition-colors",children:e.jsx(v,{size:20})})]},n))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-stone-900 uppercase tracking-tight",children:"Modo de Preparo"}),e.jsxs("button",{type:"button",onClick:w,className:"text-orange-600 font-black text-xs uppercase flex items-center gap-1 hover:text-orange-700",children:[e.jsx(j,{size:16})," Adicionar Passo"]})]}),e.jsx("div",{className:"space-y-8",children:i.map((t,n)=>e.jsxs("div",{className:"flex gap-6 items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-stone-900 text-white rounded-xl flex items-center justify-center font-black flex-shrink-0",children:n+1}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{placeholder:"Título do passo",className:"w-full bg-stone-50 border border-stone-100 rounded-xl px-4 py-3 font-bold text-sm",value:t.title,onChange:o=>{const a=[...i];a[n].title=o.target.value,d(a)}}),e.jsx("textarea",{placeholder:"O que fazer?",className:"w-full bg-stone-50 border border-stone-100 rounded-xl px-4 py-3 font-medium text-sm",value:t.text,onChange:o=>{const a=[...i];a[n].text=o.target.value,d(a)}})]}),e.jsx("button",{type:"button",onClick:()=>C(n),className:"text-stone-300 hover:text-red-500 transition-colors mt-2",children:e.jsx(v,{size:20})})]},n))})]})]}),e.jsxs("div",{className:"p-8 bg-stone-50 border-t border-stone-100 flex justify-end gap-4",children:[e.jsx("button",{onClick:u,className:"px-8 py-4 text-stone-500 font-black text-sm uppercase",children:"Cancelar"}),e.jsxs("button",{onClick:b,disabled:g||m,className:"bg-orange-500 text-white px-12 py-4 rounded-2xl font-black text-sm uppercase shadow-xl hover:bg-orange-600 transition-all flex items-center gap-2 disabled:bg-stone-300",children:[g?e.jsx(f,{className:"animate-spin"}):e.jsx(R,{size:18}),"Salvar na Minha Coleção"]})]})]})})};export{q as CreateRecipe};
