import{c as o,r as n,j as e,H as T,L as y,C as P,a as E,_ as F}from"./index-Buxcl6sL.js";import{P as H,g as R}from"./ai-DSw9RqTq.js";import{F as D}from"./flame-CD_iWtbN.js";import{C as q,S as V}from"./star-CqpLC0Rz.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U=o("check",Q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],O=o("message-circle",K);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M5 12h14",key:"1ays0h"}]],B=o("minus",W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],J=o("printer",G);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Y=o("send",X);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ee=o("share-2",Z);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],te=o("shopping-cart",se);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ne=o("users",ae),de=({recipe:t,user:r,onRefreshUser:k})=>{const[c,C]=n.useState(2),[_,S]=n.useState({}),[z,g]=n.useState(!1),[p,b]=n.useState(!1),[u,L]=n.useState(""),[f,j]=n.useState(!1),[h,v]=n.useState(""),[x,i]=n.useState(null),m=r==null?void 0:r.favorites.includes(t.id);n.useEffect(()=>{if(x){const s=setTimeout(()=>i(null),3e3);return()=>clearTimeout(s)}},[x]);const N=s=>{C(a=>Math.max(1,Math.min(10,a+s)))},M=async()=>{if(!r){i("Entre para salvar receitas!");return}g(!0);try{await E.toggleFavorite(r.id,t.id),k(),i(m?"Removido dos favoritos":"Salvo nos favoritos!")}catch{i("Erro ao salvar favorito.")}finally{g(!1)}},$=async()=>{const s={title:t.title,text:t.description,url:window.location.href};if(navigator.share)try{await navigator.share(s)}catch(a){console.error(a)}else navigator.clipboard.writeText(window.location.href),i("Link copiado!")},A=async()=>{if(!r){i("Entre para criar sua lista!");return}b(!0);const s=t.ingredients.map(l=>({name:l.name,amount:`${(l.amount*(c/2)).toFixed(2).replace(".00","")} ${l.unit}`,checked:!1})),{db:a}=await F(async()=>{const{db:l}=await import("./index-Buxcl6sL.js").then(d=>d.e);return{db:l}},[]);await a.addToShoppingList(r.id,s),b(!1),i("Adicionado à sua lista de compras!")},I=async s=>{if(s.preventDefault(),!h.trim())return;j(!0);const a=await R(t.title,h);L(a||""),j(!1),v("")};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[x&&e.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[200] bg-stone-900 text-white px-6 py-3 rounded-2xl shadow-2xl text-sm font-bold animate-in slide-in-from-bottom-4",children:x}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16 items-center",children:[e.jsxs("div",{className:"order-2 lg:order-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 font-bold text-xs uppercase tracking-widest mb-4",children:[e.jsx(D,{size:14})," ",t.category]}),e.jsx("h1",{className:"text-4xl md:text-6xl font-black text-stone-900 mb-6 leading-tight",children:t.title}),e.jsx("p",{className:"text-lg text-stone-500 mb-8 leading-relaxed max-w-xl",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 md:gap-8 mb-10 pb-8 border-b border-stone-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-orange-50 p-2.5 rounded-xl text-orange-600",children:e.jsx(q,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 font-bold uppercase",children:"Tempo"}),e.jsxs("p",{className:"font-extrabold text-stone-800",children:[t.prepTime+t.cookTime," min"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-orange-50 p-2.5 rounded-xl text-orange-600",children:e.jsx(ne,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 font-bold uppercase",children:"Rendimento"}),e.jsxs("p",{className:"font-extrabold text-stone-800",children:[c," pessoas"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-orange-50 p-2.5 rounded-xl text-orange-600",children:e.jsx(V,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 font-bold uppercase",children:"Nota"}),e.jsx("p",{className:"font-extrabold text-stone-800",children:t.rating})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 no-print",children:[e.jsxs("button",{onClick:M,disabled:z,className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-8 py-4 rounded-2xl font-bold transition-all shadow-md ${m?"bg-red-50 text-red-500 border-red-100 border":"bg-stone-900 text-white hover:bg-stone-700"}`,children:[e.jsx(T,{className:m?"fill-current":"",size:20}),m?"Favorito":"Salvar"]}),e.jsxs("button",{onClick:()=>window.print(),title:"Imprimir Receita",className:"flex items-center justify-center gap-3 px-6 py-4 bg-white border-2 border-stone-900 rounded-2xl text-stone-900 hover:bg-stone-900 hover:text-white transition-all shadow-sm font-bold",children:[e.jsx(J,{size:20})," ",e.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),e.jsx("button",{onClick:$,className:"p-4 bg-white border border-stone-200 rounded-2xl text-stone-600 hover:bg-stone-50 transition-colors shadow-sm",children:e.jsx(ee,{size:20})})]})]}),e.jsx("div",{className:"order-1 lg:order-2",children:e.jsxs("div",{className:"relative aspect-video lg:aspect-[4/3] rounded-[40px] overflow-hidden shadow-2xl group",children:[e.jsx("img",{src:t.image,alt:t.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-1000"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"}),e.jsxs("div",{className:"absolute bottom-6 left-6 bg-white/95 backdrop-blur-md px-5 py-2.5 rounded-2xl text-sm font-black text-stone-900 shadow-xl border border-white/50",children:[t.calories," KCAL"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-16",children:[e.jsx("div",{className:"lg:col-span-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-stone-100 sticky top-28",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-stone-900",children:"Ingredientes"}),e.jsxs("div",{className:"flex items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-100 no-print",children:[e.jsx("button",{onClick:()=>N(-1),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm text-stone-400 hover:text-orange-500 transition-all",disabled:c<=1,children:e.jsx(B,{size:16})}),e.jsx("span",{className:"font-bold text-stone-900 w-6 text-center text-sm",children:c}),e.jsx("button",{onClick:()=>N(1),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm text-stone-400 hover:text-orange-500 transition-all",children:e.jsx(H,{size:16})})]})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:t.ingredients.map((s,a)=>{const l=(s.amount*(c/2)).toFixed(2).replace(".00",""),d=_[a];return e.jsxs("li",{className:`flex items-start gap-4 p-3 rounded-2xl transition cursor-pointer select-none group ${d?"opacity-40":"hover:bg-orange-50/50"}`,onClick:()=>S(w=>({...w,[a]:!w[a]})),children:[e.jsx("div",{className:`mt-0.5 min-w-[22px] h-[22px] rounded-lg border-2 flex items-center justify-center transition-all ${d?"bg-green-500 border-green-500":"border-stone-200 bg-white group-hover:border-orange-300"}`,children:d&&e.jsx(U,{size:14,strokeWidth:4,className:"text-white"})}),e.jsxs("span",{className:`text-[15px] ${d?"line-through":"text-stone-700"}`,children:[e.jsxs("span",{className:"font-black text-stone-900",children:[l," ",s.unit]})," de ",s.name]})]},a)})}),e.jsxs("button",{onClick:A,disabled:p,className:"w-full bg-orange-50 text-orange-600 font-bold py-4 rounded-2xl hover:bg-orange-100 transition-colors flex items-center justify-center gap-2 no-print",children:[p?e.jsx(y,{className:"animate-spin"}):e.jsx(te,{size:20}),"Lista de Compras"]})]})}),e.jsxs("div",{className:"lg:col-span-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("h2",{className:"text-3xl font-black text-stone-900",children:"Passo a Passo"}),e.jsx("div",{className:"flex-1 h-px bg-stone-100"})]}),e.jsx("div",{className:"space-y-12",children:t.steps.map((s,a)=>e.jsxs("div",{className:"flex gap-4 sm:gap-8 group",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-stone-900 text-white rounded-2xl flex items-center justify-center font-black text-xl shadow-lg group-hover:bg-orange-500 transition-all duration-300",children:a+1})}),e.jsxs("div",{className:"pt-2 pb-8 border-b border-stone-100 w-full group-last:border-0",children:[e.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3 group-hover:text-orange-500 transition-colors",children:s.title}),e.jsx("p",{className:"text-stone-500 leading-relaxed text-base sm:text-lg",children:s.text})]})]},a))}),e.jsxs("div",{className:"mt-16 bg-stone-900 rounded-[40px] p-6 sm:p-10 text-white relative overflow-hidden no-print",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"bg-orange-500 p-3 rounded-2xl",children:e.jsx(O,{size:28,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black",children:"Mestre Cucal AI"}),e.jsx("p",{className:"text-stone-400 text-sm",children:"Dúvidas? Pergunte ao chef!"})]})]}),u&&e.jsx("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-3xl p-6 mb-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-orange-500 p-2 rounded-xl text-white mt-1",children:e.jsx(P,{size:18})}),e.jsx("p",{className:"text-stone-100 italic leading-relaxed",children:u})]})}),e.jsxs("form",{onSubmit:I,className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"text",value:h,onChange:s=>v(s.target.value),placeholder:"Posso substituir manteiga por óleo?",className:"flex-1 bg-white/5 border border-white/10 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-orange-500 transition-all outline-none"}),e.jsx("button",{type:"submit",disabled:f,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-stone-700 p-4 rounded-2xl transition-all shadow-xl flex items-center justify-center sm:min-w-[60px]",children:f?e.jsx(y,{className:"animate-spin"}):e.jsx(Y,{size:20})})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-orange-500/10 rounded-full blur-[100px] -mr-32 -mt-32"})]})]})]})]})};export{de as RecipeView};
